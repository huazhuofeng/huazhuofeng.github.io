<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mihomo ä»£ç†é…ç½®ä¸ Shell é›†æˆæŒ‡å— Â· Huazhuo Feng â€” MD, Researcher in Pulmonary Hypertension</title>
<meta name="description" content="åœ¨ WSL/Linux ç¯å¢ƒä¸‹é…ç½® Mihomo ä»£ç†ï¼Œå®ç°ä¸€é”®åˆ‡æ¢èŠ‚ç‚¹ã€è‡ªåŠ¨ä»£ç†ç­‰ä¾¿æ·åŠŸèƒ½ã€‚">
<meta property="og:title" content="Mihomo ä»£ç†é…ç½®ä¸ Shell é›†æˆæŒ‡å— Â· Huazhuo Feng â€” MD, Researcher in Pulmonary Hypertension">
<meta property="og:description" content="åœ¨ WSL/Linux ç¯å¢ƒä¸‹é…ç½® Mihomo ä»£ç†ï¼Œå®ç°ä¸€é”®åˆ‡æ¢èŠ‚ç‚¹ã€è‡ªåŠ¨ä»£ç†ç­‰ä¾¿æ·åŠŸèƒ½ã€‚">
<meta property="og:type" content="website">
<meta property="og:url" content="http://localhost:4000/blog/2026/01/22/mihomo-proxy-setup/">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
<!-- Prism.js for syntax highlighting (macOS Terminal style) -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-ruby.min.js"></script>
<script>
  (function () {
    try {
      const storedTheme = localStorage.getItem('preferred-theme');
      const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = storedTheme || (systemDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
    } catch (error) {
      console.warn('Theme init errored', error);
    }
  })();
</script>
<link rel="stylesheet" href="/assets/css/site.css">

  </head>
  <body class="layout-post">
    <div class="site-shell">
      <header class="site-header">
  <nav class="site-nav">
  <div class="nav-brand">
    <a href="/" class="brand">
      <span class="brand-title">Huazhuo Feng</span>
      <span class="brand-subtitle">MD Â· PhD Candidate</span>
    </a>
  </div>
  <div class="nav-links">
    <a href="/">Home</a>
    <a href="/blog/">Blog</a>
    <a href="/#publications">Publications</a>
    <a href="/#contact">Contact</a>
  </div>
  <div class="nav-actions">
    <button class="nav-btn" data-theme-toggle aria-label="Toggle theme">ğŸŒ™ / â˜€ï¸</button>
  </div>
</nav>

</header>

      <div class="site-body">
        <main class="main-column">
          <article class="content-section blog-post">
  <header class="post-header">
    <p class="muted small">2026-01-22</p>
    <h1>Mihomo ä»£ç†é…ç½®ä¸ Shell é›†æˆæŒ‡å—</h1>
    
    
      <div class="meta-chip-group">
        
          <span class="meta-chip">proxy</span>
        
          <span class="meta-chip">mihomo</span>
        
          <span class="meta-chip">shell</span>
        
          <span class="meta-chip">wsl</span>
        
      </div>
    
  </header>
  <div class="post-body">
    <h2 id="é¡¹ç›®ç®€ä»‹">é¡¹ç›®ç®€ä»‹</h2>

<p>Mihomo æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä»£ç†å·¥å…·ï¼Œé€šè¿‡ Shell é›†æˆå¯ä»¥å®ç°ä¾¿æ·çš„å‘½ä»¤è¡Œä»£ç†ç®¡ç†ã€‚æœ¬æ•™ç¨‹ä»‹ç»å¦‚ä½•åœ¨ WSL/Linux ç¯å¢ƒä¸‹é…ç½® Mihomoï¼Œå¹¶æä¾›å®Œæ•´çš„ Shell å‡½æ•°å®ç°ã€‚</p>

<hr />

<h2 id="æ ¸å¿ƒåŠŸèƒ½">æ ¸å¿ƒåŠŸèƒ½</h2>

<table>
  <thead>
    <tr>
      <th>åŠŸèƒ½</th>
      <th>å‘½ä»¤</th>
      <th>è¯´æ˜</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>å¯åŠ¨/åœæ­¢</td>
      <td><code class="language-plaintext highlighter-rouge">mihomo-start</code> / <code class="language-plaintext highlighter-rouge">mihomo-stop</code></td>
      <td>æ§åˆ¶å®ˆæŠ¤è¿›ç¨‹</td>
    </tr>
    <tr>
      <td>ä»£ç†å¼€å…³</td>
      <td><code class="language-plaintext highlighter-rouge">proxy-on</code> / <code class="language-plaintext highlighter-rouge">proxy-off</code></td>
      <td>å¯ç”¨/ç¦ç”¨ç³»ç»Ÿä»£ç†</td>
    </tr>
    <tr>
      <td>çŠ¶æ€æŸ¥çœ‹</td>
      <td><code class="language-plaintext highlighter-rouge">proxy-status</code></td>
      <td>æ˜¾ç¤ºå½“å‰ä»£ç†çŠ¶æ€</td>
    </tr>
    <tr>
      <td>èŠ‚ç‚¹åˆ‡æ¢</td>
      <td><code class="language-plaintext highlighter-rouge">proxy-select jp</code></td>
      <td>åˆ‡æ¢åˆ°æŒ‡å®šå›½å®¶èŠ‚ç‚¹</td>
    </tr>
    <tr>
      <td>èŠ‚ç‚¹åˆ—è¡¨</td>
      <td><code class="language-plaintext highlighter-rouge">proxy-list</code></td>
      <td>åˆ—å‡ºæ‰€æœ‰å¯ç”¨èŠ‚ç‚¹</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å¯åŠ¨ mihomo</span>
mihomo-start

<span class="c"># å¯ç”¨ä»£ç†</span>
proxy-on

<span class="c"># åˆ‡æ¢åˆ°æ—¥æœ¬èŠ‚ç‚¹</span>
proxy-select jp

<span class="c"># æŸ¥çœ‹çŠ¶æ€</span>
proxy-status
</code></pre></div></div>

<hr />

<h2 id="èŠ‚ç‚¹ä»£ç æ˜ å°„">èŠ‚ç‚¹ä»£ç æ˜ å°„</h2>

<table>
  <thead>
    <tr>
      <th>ä»£ç </th>
      <th>å›½å®¶</th>
      <th>èŠ‚ç‚¹</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">jp</code></td>
      <td>æ—¥æœ¬</td>
      <td>ğŸ‡¯ğŸ‡µ6æ—¥æœ¬-é›†ç¾¤-ä¸“çº¿, ğŸ‡¯ğŸ‡µ7æ—¥æœ¬-ä¸“çº¿, ğŸ‡¯ğŸ‡µ10æ—¥æœ¬-ä¸“çº¿</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">us</code></td>
      <td>ç¾å›½</td>
      <td>ğŸ‡ºğŸ‡¸11ç¾å›½è¥¿é›†ç¾¤-ä¸“çº¿, ğŸ‡ºğŸ‡¸12ç¾å›½æ—§é‡‘å±±-ä¸“çº¿</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">hk</code></td>
      <td>é¦™æ¸¯</td>
      <td>ğŸ‡­ğŸ‡°1é¦™æ¸¯-ä¸“çº¿, ğŸ‡­ğŸ‡°2é¦™æ¸¯-ä¸“çº¿, ğŸ‡­ğŸ‡°3é¦™æ¸¯-ä¸“çº¿</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">sg</code></td>
      <td>æ–°åŠ å¡</td>
      <td>ğŸ‡¸ğŸ‡¬15æ–°åŠ å¡-ä¸“çº¿, ğŸ‡¸ğŸ‡¬24æ–°åŠ å¡-ä¸“çº¿</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">kr</code></td>
      <td>éŸ©å›½</td>
      <td>ğŸ‡°ğŸ‡·25éŸ©å›½-ä¸“çº¿</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">tw</code></td>
      <td>å°æ¹¾</td>
      <td>4å°æ¹¾-ä¸“çº¿, 5å°æ¹¾-ä¸“çº¿</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">au</code></td>
      <td>æ¾³æ´²</td>
      <td>ğŸ‡¦ğŸ‡º19æ¾³æ´²-ä¸“çº¿</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="ç«¯å£é…ç½®">ç«¯å£é…ç½®</h2>

<table>
  <thead>
    <tr>
      <th>ç«¯å£</th>
      <th>ç±»å‹</th>
      <th>ç”¨é€”</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>7899</td>
      <td>Mixed</td>
      <td>é»˜è®¤ä»£ç†ç«¯å£</td>
    </tr>
    <tr>
      <td>7892</td>
      <td>HTTP</td>
      <td>HTTP ä»£ç†</td>
    </tr>
    <tr>
      <td>7898</td>
      <td>SOCKS</td>
      <td>SOCKS5 ä»£ç†</td>
    </tr>
    <tr>
      <td>1235</td>
      <td>API</td>
      <td>Mihomo REST API</td>
    </tr>
    <tr>
      <td>5336</td>
      <td>DNS</td>
      <td>Mihomo DNS æœåŠ¡å™¨</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="å…³é”®ä¿®å¤api-ä»£ç†å¾ªç¯é—®é¢˜">å…³é”®ä¿®å¤ï¼šAPI ä»£ç†å¾ªç¯é—®é¢˜</h2>

<h3 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h3>

<p>æ‰§è¡Œ <code class="language-plaintext highlighter-rouge">proxy-on</code> æˆ– <code class="language-plaintext highlighter-rouge">proxy-select</code> åï¼ŒMihomo API å˜å¾—æ— å“åº”ï¼ˆ502 é”™è¯¯ï¼‰ã€‚</p>

<h3 id="æ ¹æœ¬åŸå› ">æ ¹æœ¬åŸå› </h3>

<p>å½“è®¾ç½® <code class="language-plaintext highlighter-rouge">http_proxy</code> ç¯å¢ƒå˜é‡åï¼Œå¯¹ localhost çš„ API è°ƒç”¨è¢«è·¯ç”±åˆ°ä»£ç†æœ¬èº«ï¼Œå½¢æˆå¾ªç¯ã€‚</p>

<h3 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h3>

<p>åœ¨æ‰€æœ‰ curl å‘½ä»¤ä¸­æ·»åŠ  <code class="language-plaintext highlighter-rouge">--noproxy "127.0.0.1"</code> å‚æ•°ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ä¿®æ”¹å‰</span>
curl <span class="nt">-s</span> http://127.0.0.1:1235/proxies

<span class="c"># ä¿®æ”¹å</span>
curl <span class="nt">-s</span> <span class="nt">--noproxy</span> <span class="s2">"127.0.0.1"</span> http://127.0.0.1:1235/proxies
</code></pre></div></div>

<hr />

<h2 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/.config/zsh/functions/
â”œâ”€â”€ mihomo-api.zsh         # API äº¤äº’å±‚ï¼ˆå·²ä¿®å¤ï¼‰
â”œâ”€â”€ mihomo-functions.zsh   # ç”¨æˆ·å‘½ä»¤
â””â”€â”€ mihomo-nodes.zsh       # èŠ‚ç‚¹æ˜ å°„

~/.config/mihomo/
â””â”€â”€ config.yaml            # Mihomo é…ç½®æ–‡ä»¶
</code></pre></div></div>

<hr />

<h2 id="æµ‹è¯•ä»£ç†">æµ‹è¯•ä»£ç†</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å¯ç”¨ä»£ç†</span>
proxy-on

<span class="c"># æµ‹è¯• 1: æ£€æŸ¥å‡ºå£ IP</span>
curl https://api.ipify.org?format<span class="o">=</span>json

<span class="c"># æµ‹è¯• 2: æ£€æŸ¥ Google</span>
curl <span class="nt">-I</span> https://www.google.com

<span class="c"># æµ‹è¯• 3: æ£€æŸ¥çŠ¶æ€</span>
proxy-status
</code></pre></div></div>

<hr />

<h2 id="æ•…éšœæ’é™¤">æ•…éšœæ’é™¤</h2>

<h3 id="api-è¿”å›-502-æˆ–è¿æ¥é”™è¯¯">API è¿”å› 502 æˆ–è¿æ¥é”™è¯¯</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ£€æŸ¥ä¿®å¤æ˜¯å¦åº”ç”¨</span>
<span class="nb">grep</span> <span class="nt">-n</span> <span class="s2">"noproxy"</span> ~/.config/zsh/functions/mihomo-api.zsh

<span class="c"># åº”è¯¥åœ¨ curl å‘½ä»¤ä¸­çœ‹åˆ° --noproxy</span>
</code></pre></div></div>

<h3 id="ä»£ç†å¯ç”¨ä½†æ— ç½‘ç»œ">ä»£ç†å¯ç”¨ä½†æ— ç½‘ç»œ</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æ£€æŸ¥èŠ‚ç‚¹çŠ¶æ€</span>
proxy-current

<span class="c"># æŸ¥çœ‹ mihomo æ—¥å¿—</span>
mihomo-log

<span class="c"># å°è¯•å…¶ä»–èŠ‚ç‚¹</span>
proxy-select us
</code></pre></div></div>

<h3 id="å‡½æ•°æœªæ‰¾åˆ°">å‡½æ•°æœªæ‰¾åˆ°</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># é‡æ–°åŠ è½½ zshrc</span>
<span class="nb">source</span> ~/.zshrc

<span class="c"># æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
<span class="nb">ls</span> <span class="nt">-la</span> ~/.config/zsh/functions/
</code></pre></div></div>

<hr />

<p><strong>åˆ›å»ºæ—¶é—´:</strong> 2026-01-21
<strong>çŠ¶æ€:</strong> âœ… ç”Ÿäº§ç¯å¢ƒå¯ç”¨</p>

  </div>
  <div class="card-actions post-navigation">
    
      <a class="link-pill" href="/blog/2026/01/22/cursor-server-deploy/">â† Cursor Remote-SSH Server æ‰‹åŠ¨éƒ¨ç½²å·¥å…·</a>
    
    
      <a class="link-pill" href="/blog/2026/01/22/signal-integration/">Signal integration in reproducible single-cell workflows â†’</a>
    
  </div>
</article>

        </main>
        <aside class="site-sidebar">
  <div class="sidebar-card">
    <div class="avatar-ring">
      <span class="avatar-letter">H</span>
    </div>
    <h3>Huazhuo Feng</h3>
    <p class="muted">MD Â· PhD Candidate</p>
    <p class="muted">Guangzhou Medical University</p>
    <div class="meta-tags">
      
        <span class="tag">Pulmonary Hypertension</span>
      
        <span class="tag">Single-cell Omics</span>
      
        <span class="tag">Spatial Omics</span>
      
    </div>
    <div class="contact-links">
      <a href="mailto:dotorfhz@163.com">dotorfhz@163.com</a>
    </div>
  </div>
  <div class="sidebar-card">
    <h4>ğŸ”— Quick Links</h4>
    <ul class="nav-list">
      
        <li><a href="https://scholar.google.com">Google Scholar</a></li>
      
        <li><a href="https://orcid.org/">ORCID</a></li>
      
        <li><a href="https://github.com">GitHub</a></li>
      
    </ul>
  </div>
  <div class="sidebar-card">
    <h4>ğŸ” Search</h4>
    <label class="search-field">
      <input type="search" placeholder="Search blog posts">
      <span class="muted">Search coming soon</span>
    </label>
  </div>
  <div class="sidebar-card">
    <h4>ğŸ“¬ Subscribe</h4>
    <p class="muted">RSS + email updates coming soon.</p>
    <div class="subscriber-line">
      <a href="/feed.xml" class="pill">RSS</a>
      <span class="muted">+ future newsletter</span>
    </div>
  </div>
</aside>

      </div>
      <footer class="site-footer">
  <div class="footer-content">
    <p>Huazhuo Feng Â· Academic Homepage & Blog</p>
    <p>Built with Jekyll Â· Light/Dark Theme Toggle</p>
  </div>
</footer>

    </div>
    <script src="/assets/js/site.js"></script>
  </body>
</html>
